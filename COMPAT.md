# Command-Line Tool Compatibility Analysis

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€libwebp/libavifã®å…¬å¼ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã¨ã€libnextimageã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªAPIã¨ã®æ©Ÿèƒ½äº’æ›æ€§ã‚’åˆ†æã—ãŸã‚‚ã®ã§ã™ã€‚

## 1. cwebp vs WebP Encode API

### cwebp ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°

#### åŸºæœ¬ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-q <float>` - quality (0-100) â†’ `quality`
- âœ… `-alpha_q <int>` - alpha quality (0-100) â†’ `alpha_quality`
- âœ… `-preset <string>` - preset (default, photo, picture, drawing, icon, text) â†’ `preset`
- âœ… `-z <int>` - lossless preset level (0-9) â†’ `lossless_preset`
- âœ… `-m <int>` - compression method (0-6) â†’ `method`
- âœ… `-segments <int>` - number of segments (1-4) â†’ `segments`
- âœ… `-size <int>` - target size in bytes â†’ `target_size`
- âœ… `-psnr <float>` - target PSNR â†’ `target_psnr`

#### ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-sns <int>` - spatial noise shaping (0-100) â†’ `sns_strength`
- âœ… `-f <int>` - filter strength (0-100) â†’ `filter_strength`
- âœ… `-sharpness <int>` - filter sharpness (0-7) â†’ `filter_sharpness`
- âœ… `-strong` / `-nostrong` - strong/simple filter â†’ `filter_type` (1=strong, 0=simple)
- âœ… `-sharp_yuv` - sharper RGB->YUV conversion â†’ `use_sharp_yuv`
- âœ… `-af` - auto-adjust filter strength â†’ `autofilter`

#### åœ§ç¸®ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-partition_limit <int>` - quality degradation (0-100) â†’ `partition_limit`
- âœ… `-pass <int>` - analysis pass (1-10) â†’ `pass`
- âœ… `-qrange <min> <max>` - quality range â†’ `qmin`, `qmax`
- âœ… `-crop <x> <y> <w> <h>` - crop picture â†’ `crop_x`, `crop_y`, `crop_width`, `crop_height`
- âœ… `-resize <w> <h>` - resize picture â†’ `resize_width`, `resize_height`
- âœ… `-resize_mode <string>` - resize mode (up_only, down_only, always) â†’ `resize_mode` (0=always, 1=up_only, 2=down_only)

#### ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ã¨ãƒ¡ãƒ¢ãƒª
- âœ… `-mt` - multi-threading â†’ `thread_level`
- âœ… `-low_memory` - reduce memory usage â†’ `low_memory`

#### ã‚¢ãƒ«ãƒ•ã‚¡ãƒãƒ£ãƒ³ãƒãƒ«ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-alpha_method <int>` - alpha compression method (0-1) â†’ `alpha_compression`
- âœ… `-alpha_filter <string>` - alpha filtering (none=0, fast=1, best=2) â†’ `alpha_filtering`
- âœ… `-exact` - preserve RGB in transparent area â†’ `exact`
- âœ… `-blend_alpha <hex>` - blend against background â†’ `blend_alpha` (0xRRGGBB format)
- âœ… `-noalpha` - discard transparency â†’ `noalpha`

#### ãƒ­ã‚¹ãƒ¬ã‚¹ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-lossless` - lossless encoding â†’ `lossless`
- âœ… `-near_lossless <int>` - near-lossless (0-100) â†’ `near_lossless`
- âœ… `-hint <string>` - image hint (photo, picture, graph) â†’ `image_hint`

#### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-metadata <string>` - metadata to copy (all, none, exif, icc, xmp) â†’ `keep_metadata`

#### å‡ºåŠ›/ãƒ‡ãƒãƒƒã‚°ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-map <int>` - print map of extra info â†’ `show_compressed`
- âš ï¸ `-print_psnr` - print PSNR distortion â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆçµ±è¨ˆæƒ…å ±å‡ºåŠ›æ©Ÿèƒ½ãªã—ï¼‰**
- âš ï¸ `-print_ssim` - print SSIM distortion â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆçµ±è¨ˆæƒ…å ±å‡ºåŠ›æ©Ÿèƒ½ãªã—ï¼‰**
- âš ï¸ `-print_lsim` - print local-similarity â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆçµ±è¨ˆæƒ…å ±å‡ºåŠ›æ©Ÿèƒ½ãªã—ï¼‰**
- âš ï¸ `-d <file.pgm>` - dump compressed output â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ï¼‰**
- âš ï¸ `-short` / `-quiet` / `-v` / `-progress` - å‡ºåŠ›åˆ¶å¾¡ â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLIå›ºæœ‰ï¼‰**
- âš ï¸ `-version` / `-noasm` - ã‚·ã‚¹ãƒ†ãƒ è¨­å®š â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLI/ã‚·ã‚¹ãƒ†ãƒ å›ºæœ‰ï¼‰**

#### å®Ÿé¨“çš„ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-jpeg_like` - match JPEG size â†’ `emulate_jpeg_size`
- âœ… `-pre <int>` - pre-processing filter â†’ `preprocessing`

#### YUVå…¥åŠ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âš ï¸ `-s <int> <int>` - input size for YUV â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆç”Ÿãƒ”ã‚¯ã‚»ãƒ«å…¥åŠ›ã¯åˆ¥APIè¨­è¨ˆãŒå¿…è¦ï¼‰**

### åˆ†æçµæœ

#### ã‚µãƒãƒ¼ãƒˆçŠ¶æ³
- **å®Œå…¨å¯¾å¿œ**: åŸºæœ¬çš„ãªã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å“è³ªã€ãƒ•ã‚£ãƒ«ã‚¿ã€åœ§ç¸®ã€ã‚¢ãƒ«ãƒ•ã‚¡ã€ãƒ­ã‚¹ãƒ¬ã‚¹ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€ç”»åƒå¤‰æ›ï¼ˆcrop/resizeï¼‰ã®å„è¨­å®š
- **æœªå¯¾å¿œï¼ˆYUVå…¥åŠ›ï¼‰**: `-s` (YUVå…¥åŠ›)
  - **ç†ç”±**: ç”ŸYUVãƒ”ã‚¯ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ã®å…¥åŠ›ã¯åˆ¥APIè¨­è¨ˆãŒå¿…è¦
- **æœªå¯¾å¿œï¼ˆCLIå›ºæœ‰ï¼‰**: `-print_psnr`, `-print_ssim`, `-print_lsim`, `-d`, `-short`, `-quiet`, `-v`, `-progress`, `-version`, `-noasm`
  - **ç†ç”±**: ã“ã‚Œã‚‰ã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«å›ºæœ‰ã®æ©Ÿèƒ½ã§ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªAPIã§ã¯ä¸è¦

#### é‡è¦ãªè¿½åŠ æ©Ÿèƒ½
- **ç”»åƒå¤‰æ›ã®ãƒ•ãƒ«å¯¾å¿œ**: `-crop`, `-resize`, `-resize_mode` (up_only, down_only, always)
  - WebPPictureCrop/WebPPictureRescaleã‚’åˆ©ç”¨
  - cwebpã¨åŒã˜å‡¦ç†é †åºï¼ˆcrop â†’ resize â†’ blend_alphaï¼‰
- **ã‚¢ãƒ«ãƒ•ã‚¡ãƒãƒ£ãƒ³ãƒãƒ«å‡¦ç†**: `-blend_alpha`, `-noalpha`
  - WebPBlendAlphaã«ã‚ˆã‚‹èƒŒæ™¯è‰²ã¨ã®åˆæˆ
  - èª­ã¿è¾¼ã¿æ™‚ã®ã‚¢ãƒ«ãƒ•ã‚¡ãƒãƒ£ãƒ³ãƒãƒ«é™¤å»

#### çµè«–
cwebpã®**å…¨ã‚³ã‚¢æ©Ÿèƒ½ã‚’å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆ**ã€‚
ç”»åƒå¤‰æ›ï¼ˆcrop/resize/blend_alpha/noalphaï¼‰ã®è¿½åŠ ã«ã‚ˆã‚Šã€cwebpã‚³ãƒãƒ³ãƒ‰ã¨åŒç­‰ã®æ©Ÿèƒ½ã‚’æä¾›ã€‚

---

## 2. dwebp vs WebP Decode API

### dwebp ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°

#### å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: PNGå½¢å¼ â†’ `format` (FormatRGBAç­‰)
- âš ï¸ `-pam` - save as PAM â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆå‡ºåŠ›å´ã§å‡¦ç†ã™ã¹ãï¼‰**
- âš ï¸ `-ppm` - save as PPM â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆå‡ºåŠ›å´ã§å‡¦ç†ã™ã¹ãï¼‰**
- âš ï¸ `-bmp` - save as BMP â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆå‡ºåŠ›å´ã§å‡¦ç†ã™ã¹ãï¼‰**
- âš ï¸ `-tiff` - save as TIFF â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆå‡ºåŠ›å´ã§å‡¦ç†ã™ã¹ãï¼‰**
- âš ï¸ `-pgm` - save as PGM (YUV) â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆYUVå‡ºåŠ›ã¯åˆ¥è¨­è¨ˆï¼‰**
- âš ï¸ `-yuv` - save raw YUV â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆYUVå‡ºåŠ›ã¯åˆ¥è¨­è¨ˆï¼‰**

#### ãƒ‡ã‚³ãƒ¼ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-nofancy` - don't use fancy upscaler â†’ `no_fancy_upsampling`
- âœ… `-nofilter` - disable in-loop filtering â†’ `bypass_filtering`
- âœ… `-nodither` - disable dithering â†’ `no_dither`
- âœ… `-dither <d>` - dithering strength (0-100) â†’ `dither_strength`
- âœ… `-alpha_dither` - alpha-plane dithering â†’ `alpha_dither`
- âœ… `-mt` - multi-threading â†’ `use_threads`

#### ç”»åƒå¤‰æ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-crop <x> <y> <w> <h>` - crop output â†’ `crop_x`, `crop_y`, `crop_width`, `crop_height`, `use_crop`
- âœ… `-resize <w> <h>` - resize output â†’ `resize_width`, `resize_height`, `use_resize`
- âœ… `-flip` - flip vertically â†’ `flip`
- âœ… `-alpha` - only save alpha plane â†’ `alpha_only`

#### ãƒ‡ãƒãƒƒã‚°/ãã®ä»–ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-incremental` - incremental decoding â†’ `incremental`
- âš ï¸ `-version` - print version â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLIå›ºæœ‰ï¼‰**
- âš ï¸ `-v` - verbose â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLIå›ºæœ‰ï¼‰**
- âš ï¸ `-quiet` - quiet mode â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLIå›ºæœ‰ï¼‰**
- âš ï¸ `-noasm` - disable assembly â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆã‚·ã‚¹ãƒ†ãƒ å›ºæœ‰ï¼‰**

### åˆ†æçµæœ

#### ã‚µãƒãƒ¼ãƒˆçŠ¶æ³
- **å®Œå…¨å¯¾å¿œ**: ãƒ‡ã‚³ãƒ¼ãƒ‰å“è³ªè¨­å®šã€ãƒ‡ã‚£ã‚¶ãƒªãƒ³ã‚°ã€ç”»åƒå¤‰æ›ï¼ˆcrop/resize/flipï¼‰ã€ã‚¢ãƒ«ãƒ•ã‚¡å‡¦ç†ã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰
- **æœªå¯¾å¿œï¼ˆå‡ºåŠ›å‡¦ç†ï¼‰**: `-pam`, `-ppm`, `-bmp`, `-tiff`, `-pgm`, `-yuv`
  - **ç†ç”±**: å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›ã¯å‡ºåŠ›å´ã§è¡Œã†ã¹ãã€‚ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ãƒ”ã‚¯ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆRGBAç­‰ï¼‰ã‚’è¿”ã™ã®ã¿
- **æœªå¯¾å¿œï¼ˆCLIå›ºæœ‰ï¼‰**: `-version`, `-v`, `-quiet`, `-noasm`
  - **ç†ç”±**: ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«å›ºæœ‰ã®æ©Ÿèƒ½

#### é‡è¦ãªé•ã„
- **dwebpã¨ã®å¤§ããªé•ã„**: dwebpã¯**ãƒ‡ã‚³ãƒ¼ãƒ‰å¾Œã«crop/resize**ã‚’é©ç”¨ã™ã‚‹ãŒã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯åŒã˜APIã§å¯¾å¿œå¯èƒ½
  - cwebpã§ã¯ crop/resize ã¯å…¥åŠ›å‡¦ç†ï¼ˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰å‰ï¼‰
  - dwebpã§ã¯ crop/resize ã¯å‡ºåŠ›å‡¦ç†ï¼ˆãƒ‡ã‚³ãƒ¼ãƒ‰å¾Œï¼‰
  - **ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆ**ã—ã¦ãŠã‚Šã€ã‚ˆã‚ŠæŸ”è»Ÿ

#### çµè«–
dwebpã®**ã‚³ã‚¢æ©Ÿèƒ½ã¯å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆ**ã•ã‚Œã¦ã„ã‚‹ã€‚
crop/resizeæ©Ÿèƒ½ã¯cwebpã‚ˆã‚Šã‚‚å……å®Ÿã—ã¦ãŠã‚Šã€ãƒ‡ã‚³ãƒ¼ãƒ‰å¾Œã®ç”»åƒå¤‰æ›ã‚’ç›´æ¥ã‚µãƒãƒ¼ãƒˆã€‚

---

## 3. gif2webp vs GIF to WebP API

### gif2webp ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°

#### åŸºæœ¬ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-lossy` - lossy encoding â†’ `lossless = false` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œ)
- âœ… `-near_lossless <int>` - near-lossless (0-100) â†’ `near_lossless`
- âœ… `-sharp_yuv` - sharp RGB->YUV â†’ `use_sharp_yuv`
- âœ… `-q <float>` - quality (0-100) â†’ `quality`
- âœ… `-m <int>` - compression method (0-6) â†’ `method`
- âœ… `-f <int>` - filter strength (0-100) â†’ `filter_strength`

#### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
- âœ… `-mixed` - mixed lossy/lossless â†’ `allow_mixed`
- âœ… `-min_size` - minimize output size â†’ `minimize_size`
- âœ… `-kmin <int>` - min keyframe distance â†’ `kmin`
- âœ… `-kmax <int>` - max keyframe distance â†’ `kmax`
- âœ… `-loop_compatibility` - Chrome M62 compatibility â†’ `loop_compatibility`
- âœ… `-loop_count <int>` - loop count (0=infinite) â†’ `anim_loop_count`

#### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š
- âœ… `-metadata <string>` - metadata copy (all, none, icc, xmp) â†’ `keep_metadata`

#### ãã®ä»–
- âœ… `-mt` - multi-threading â†’ `thread_level`
- âš ï¸ `-version` / `-v` / `-quiet` - å‡ºåŠ›åˆ¶å¾¡ â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLIå›ºæœ‰ï¼‰**

### åˆ†æçµæœ

#### ã‚µãƒãƒ¼ãƒˆçŠ¶æ³
- **å®Œå…¨å¯¾å¿œ**: åŸºæœ¬çš„ãªãƒ­ã‚¹ãƒ¬ã‚¹/ãƒ­ãƒƒã‚·ãƒ¼å¤‰æ›ã€å“è³ªè¨­å®šã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¤‰æ›**
- **å®Œå…¨å¯¾å¿œï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰**: `-mixed`, `-min_size`, `-kmin`, `-kmax`, `-loop_compatibility`, `-loop_count`
  - **å®Ÿè£…**: WebPAnimEncoderã‚’ä½¿ç”¨ã—ãŸå®Œå…¨ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³GIFâ†’WebPå¤‰æ›
  - **æ©Ÿèƒ½**: GIFã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€é€æ˜åº¦ã€ãƒ‡ã‚£ã‚¹ãƒãƒ¼ã‚ºãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- **æœªå¯¾å¿œï¼ˆCLIå›ºæœ‰ï¼‰**: `-version`, `-v`, `-quiet`

#### å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½
- **é™æ­¢ç”»GIFâ†’é™æ­¢ç”»WebPå¤‰æ›**
  - å˜ä¸€ãƒ•ãƒ¬ãƒ¼ãƒ GIFã¯ `WebPEncode()` ã§é™çš„VP8Lã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
  - gif2webpã‚³ãƒãƒ³ãƒ‰ã¨**ãƒã‚¤ãƒŠãƒªå®Œå…¨ä¸€è‡´**ã‚’é”æˆ
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§losslessã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼ˆgif2webpã®å‹•ä½œã«æº–æ‹ ï¼‰
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³GIFâ†’ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³WebPå¤‰æ›**
  - WebPAnimEncoderã‚’ä½¿ç”¨ã—ãŸå®Œå…¨å®Ÿè£…
  - GIFãƒ•ãƒ¬ãƒ¼ãƒ ã®æ­£ç¢ºãªèª­ã¿å–ã‚Šã¨å¤‰æ›
  - ãƒ•ãƒ¬ãƒ¼ãƒ ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®ä¿æŒï¼ˆæœ€å°100msï¼‰
  - é€æ˜åº¦ã¨ãƒ‡ã‚£ã‚¹ãƒãƒ¼ã‚ºãƒ¡ã‚½ãƒƒãƒ‰ã®å®Œå…¨å¯¾å¿œ
  - 3ãƒ•ãƒ¬ãƒ¼ãƒ ãƒãƒƒãƒ•ã‚¡æ–¹å¼ï¼ˆframe, curr_canvas, prev_canvasï¼‰ã«ã‚ˆã‚‹æ­£ç¢ºãªåˆæˆ
  - gif2webpã‚³ãƒãƒ³ãƒ‰ã¨**ãƒã‚¤ãƒŠãƒªå®Œå…¨ä¸€è‡´**ã‚’é”æˆ
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³**
  - `-mixed`: ãƒ­ãƒƒã‚·ãƒ¼/ãƒ­ãƒƒã‚¹ãƒ¬ã‚¹æ··åœ¨ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
  - `-min_size`: å‡ºåŠ›ã‚µã‚¤ã‚ºã®æœ€å°åŒ–ï¼ˆå‡¦ç†æ™‚é–“å¢—åŠ ï¼‰
  - `-kmin`/`-kmax`: ã‚­ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ é–“éš”ã®åˆ¶å¾¡
  - `-loop_compatibility`: Chrome M62äº’æ›ãƒ¢ãƒ¼ãƒ‰

#### äº’æ›æ€§ãƒ†ã‚¹ãƒˆçµæœï¼ˆ2025-10-18ï¼‰
gif2webpã‚³ãƒãƒ³ãƒ‰ã¨ã®å®Œå…¨ãªäº’æ›æ€§ã‚’ç¢ºèªï¼š

**é™æ­¢ç”»GIF** (4ãƒ†ã‚¹ãƒˆ):
- âœ… static-64x64: **Binary exact match** (42 bytes)
- âœ… static-512x512: **Binary exact match** (52 bytes)
- âœ… static-16x16: **Binary exact match** (36 bytes)
- âœ… gradient: **Binary exact match** (158 bytes)

**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³GIF** (2ãƒ†ã‚¹ãƒˆ):
- âœ… animated-3frames: **Binary exact match** (206 bytes)
- âœ… animated-small: **Binary exact match** (140 bytes)

**é€éGIF** (2ãƒ†ã‚¹ãƒˆ):
- âœ… static-alpha: **Binary exact match** (86 bytes)
- âœ… animated-alpha: **Binary exact match** (180 bytes)

**å“è³ªè¨­å®š** (2ãƒ†ã‚¹ãƒˆ):
- âœ… quality-50: **Binary exact match** (42 bytes)
- âœ… quality-90: **Binary exact match** (42 bytes)

**ãƒ¡ã‚½ãƒƒãƒ‰è¨­å®š** (2ãƒ†ã‚¹ãƒˆ):
- âœ… method-0: **Binary exact match** (36 bytes)
- âœ… method-6: **Binary exact match** (42 bytes)

**å…¨12ãƒ†ã‚¹ãƒˆã§ãƒã‚¤ãƒŠãƒªå®Œå…¨ä¸€è‡´ã‚’é”æˆ** âœ…

#### çµè«–
gif2webpã‚³ãƒãƒ³ãƒ‰ã®**å…¨ä¸»è¦æ©Ÿèƒ½ã‚’å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆ**ã€‚
é™æ­¢ç”»GIFã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³GIFã®ä¸¡æ–¹ã«å¯¾å¿œã—ã€å“è³ªãƒ»ã‚µã‚¤ã‚ºãƒ»äº’æ›æ€§ã®åˆ¶å¾¡ãŒå¯èƒ½ã€‚
**å…¬å¼gif2webpã‚³ãƒãƒ³ãƒ‰ã¨ãƒã‚¤ãƒŠãƒªãƒ¬ãƒ™ãƒ«ã§å®Œå…¨ä¸€è‡´ã™ã‚‹å‡ºåŠ›ã‚’å®Ÿç¾**ã€‚

---

## 4. avifenc vs AVIF Encode API

### avifenc ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°

#### åŸºæœ¬ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-q, --qcolor Q` - color quality (0-100) â†’ `quality`
- âœ… `--qalpha Q` - alpha quality (0-100) â†’ `quality_alpha`
- âœ… `-s, --speed S` - encoder speed (0-10 or 'default') â†’ `speed`
- âœ… `-j, --jobs J` - worker threads ('all' or number) â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆlibavifå†…éƒ¨ã§ç®¡ç†ï¼‰**
- âš ï¸ `--no-overwrite` - never overwrite â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼‰**
- âš ï¸ `-o, --output FILENAME` - output file â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ï¼‰**

#### é«˜åº¦ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âœ… `-l, --lossless` - lossless encoding â†’ `quality=100` ã§å¯¾å¿œ
- âœ… `-d, --depth D` - output depth (8, 10, 12) â†’ `bit_depth`
- âœ… `-y, --yuv FORMAT` - YUV format (auto, 444, 422, 420, 400) â†’ `yuv_format`
- âœ… `-p, --premultiply` - premultiply alpha â†’ `premultiply_alpha`
- âœ… `--sharpyuv` - sharp RGB->YUV420 â†’ `sharp_yuv`
- âš ï¸ `--stdin` - read y4m from stdin â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆy4må…¥åŠ›ã¯åˆ¥è¨­è¨ˆï¼‰**

#### è‰²ç©ºé–“è¨­å®šï¼ˆCICP/nclxï¼‰
- âœ… `--cicp, --nclx P/T/M` - CICP values â†’ `color_primaries`, `transfer_characteristics`, `matrix_coefficients`
- âœ… `-r, --range RANGE` - YUV range (limited/full) â†’ `yuv_range`

#### ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–
- âœ… `--target-size S` - target file size in bytes â†’ `target_size`

#### å®Ÿé¨“çš„æ©Ÿèƒ½
- âŒ `--progressive` - progressive rendering â†’ **éå¯¾å¿œï¼ˆå®Ÿé¨“çš„æ©Ÿèƒ½ã€ä¸è¦ï¼‰**
- âŒ `--layered` - layered AVIF (up to 4 layers) â†’ **éå¯¾å¿œï¼ˆå®Ÿé¨“çš„æ©Ÿèƒ½ã€ä¸è¦ï¼‰**

#### ã‚°ãƒªãƒƒãƒ‰ç”»åƒ
- âŒ `-g, --grid MxN` - grid AVIF â†’ **éå¯¾å¿œï¼ˆã‚°ãƒªãƒƒãƒ‰æ©Ÿèƒ½ã¯ä¸è¦ï¼‰**

#### ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯é¸æŠ
- âŒ `-c, --codec C` - codec selection â†’ **éå¯¾å¿œï¼ˆã‚³ãƒãƒ³ãƒ‰å°‚ç”¨æ©Ÿèƒ½ã€aomå›ºå®šï¼‰**

#### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- âœ… `--exif FILENAME` - EXIF payload â†’ `exif_data`, `exif_size`
- âœ… `--xmp FILENAME` - XMP payload â†’ `xmp_data`, `xmp_size`
- âœ… `--icc FILENAME` - ICC profile â†’ `icc_data`, `icc_size`
- âœ… `--ignore-exif` - ignore embedded EXIF â†’ **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚³ãƒ”ãƒ¼ã—ãªã„å‹•ä½œ**
- âœ… `--ignore-xmp` - ignore embedded XMP â†’ **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚³ãƒ”ãƒ¼ã—ãªã„å‹•ä½œ**
- âœ… `--ignore-profile, --ignore-icc` - ignore ICC â†’ **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚³ãƒ”ãƒ¼ã—ãªã„å‹•ä½œ**

#### ç”»åƒã‚·ãƒ¼ã‚±ãƒ³ã‚¹ï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- âŒ `--timescale, --fps V` - timescale/fps (default: 30) â†’ **éå¯¾å¿œï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œï¼‰**
- âŒ `-k, --keyframe INTERVAL` - keyframe interval â†’ **éå¯¾å¿œï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œï¼‰**
- âŒ `--repetition-count N` - repetition count â†’ **éå¯¾å¿œï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œï¼‰**

#### ç”»åƒãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
- âœ… `--pasp H,V` - pixel aspect ratio â†’ `pasp[2]`
- âœ… `--crop X,Y,W,H` - crop rectangle â†’ `crop[4]`
- âœ… `--clap WN,WD,...` - clean aperture â†’ `clap[8]`
- âœ… `--irot ANGLE` - rotation (0-3) â†’ `irot_angle`
- âœ… `--imir AXIS` - mirroring (0-1) â†’ `imir_axis`
- âœ… `--clli MaxCLL,MaxPALL` - content light level â†’ `clli_max_cll`, `clli_max_pall`

#### ã‚¿ã‚¤ãƒªãƒ³ã‚°è¨­å®š
- âœ… `--tilerowslog2 R` - tile rows log2 (0-6) â†’ `tile_rows_log2`
- âœ… `--tilecolslog2 C` - tile cols log2 (0-6) â†’ `tile_cols_log2`
- âš ï¸ `--autotiling` - automatic tiling â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆæ‰‹å‹•è¨­å®šã®ã¿ï¼‰**

#### å“è³ªè¨­å®šï¼ˆéæ¨å¥¨ï¼‰
- âœ… `--min QP` / `--max QP` - quantizer (deprecated) â†’ `min_quantizer`, `max_quantizer`
- âœ… `--minalpha QP` / `--maxalpha QP` - alpha quantizer (deprecated) â†’ `min_quantizer_alpha`, `max_quantizer_alpha`

#### é«˜åº¦ãªè¨­å®š
- âŒ `--scaling-mode N[/D]` - frame scaling mode â†’ **éå¯¾å¿œï¼ˆå®Ÿé¨“çš„æ©Ÿèƒ½ã€ä¸è¦ï¼‰**
- âŒ `--duration D` - frame duration â†’ **éå¯¾å¿œï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œï¼‰**
- âŒ `-a, --advanced KEY[=VALUE]` - codec-specific options â†’ **éå¯¾å¿œï¼ˆã‚³ãƒ¼ãƒ‡ãƒƒã‚¯å›ºæœ‰ã®è¨­å®šã¯ä¸è¦ï¼‰**

### åˆ†æçµæœ

#### ã‚µãƒãƒ¼ãƒˆçŠ¶æ³
- **å®Œå…¨å¯¾å¿œ**: åŸºæœ¬çš„ãªå“è³ªè¨­å®šã€ãƒ“ãƒƒãƒˆæ·±åº¦ã€YUVãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€è‰²ç©ºé–“ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€ç”»åƒãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã€ã‚¿ã‚¤ãƒªãƒ³ã‚°
- **éå¯¾å¿œï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰**: `--timescale`, `--keyframe`, `--repetition-count`, `--duration`
  - **ç†ç”±**: **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œ**ï¼ˆé™æ­¢ç”»ã®ã¿å¯¾å¿œï¼‰
- **éå¯¾å¿œï¼ˆå®Ÿé¨“çš„æ©Ÿèƒ½ï¼‰**: `--progressive`, `--layered`, `--scaling-mode`
  - **ç†ç”±**: å®Ÿé¨“çš„æ©Ÿèƒ½ã§ã‚ã‚Šä¸è¦
- **éå¯¾å¿œï¼ˆã‚°ãƒªãƒƒãƒ‰ï¼‰**: `-g, --grid`
  - **ç†ç”±**: ã‚°ãƒªãƒƒãƒ‰ç”»åƒæ©Ÿèƒ½ã¯ä¸è¦
- **éå¯¾å¿œï¼ˆé«˜åº¦ãªè¨­å®šï¼‰**: `-a, --advanced`
  - **ç†ç”±**: ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯å›ºæœ‰ã®è¨­å®šã¯ä¸è¦
- **éå¯¾å¿œï¼ˆã‚·ã‚¹ãƒ†ãƒ /CLIï¼‰**: `-j, --jobs`, `--no-overwrite`, `-o`, `--stdin`, `-c, --codec`, `--autotiling`
  - **ç†ç”±**: ã‚³ãƒãƒ³ãƒ‰å°‚ç”¨æ©Ÿèƒ½ã€ã¾ãŸã¯libavifå†…éƒ¨ã§ç®¡ç†

#### é‡è¦ãªã‚µãƒãƒ¼ãƒˆ
- **ç”»åƒãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ**: `pasp`, `crop`, `clap`, `irot`, `imir`, `clli`
  - ã“ã‚Œã‚‰ã¯AVIFç‰¹æœ‰ã®é«˜åº¦ãªæ©Ÿèƒ½ã§ã€å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æŸ”è»Ÿãªå¯¾å¿œ**: EXIF, XMP, ICCã‚’å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æ³¨å…¥å¯èƒ½


#### çµè«–
avifencã®**ã‚³ã‚¢æ©Ÿèƒ½ï¼ˆé™æ­¢ç”»ï¼‰ã¯å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆ**ã•ã‚Œã¦ãŠã‚Šã€ç‰¹ã«AVIFå›ºæœ‰ã®ç”»åƒãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯å…¨ã¦å¯¾å¿œã€‚
**ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œ**ï¼ˆé™æ­¢ç”»ã®ã¿å¯¾å¿œï¼‰ã€‚

---

## 5. avifdec vs AVIF Decode API

### avifdec ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°

#### åŸºæœ¬ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- âš ï¸ `-h, --help` - show help â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLIå›ºæœ‰ï¼‰**
- âš ï¸ `-V, --version` - show version â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLIå›ºæœ‰ï¼‰**
- âš ï¸ `-j, --jobs J` - worker threads ('all' or number) â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆlibavifå†…éƒ¨ã§ç®¡ç†ï¼‰**
  - **æ³¨**: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªAPIã§ã¯ `use_threads` ã§æœ‰åŠ¹åŒ–ã®ã¿å¯èƒ½
- âš ï¸ `-c, --codec C` - codec selection â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆã‚·ã‚¹ãƒ†ãƒ å±¤ï¼‰**

#### å‡ºåŠ›è¨­å®š
- âœ… `-d, --depth D` - output depth (8 or 16) â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆPNGå‡ºåŠ›ã¯åˆ¥å‡¦ç†ï¼‰**
  - **æ³¨**: ãƒ‡ã‚³ãƒ¼ãƒ‰APIã¯å¸¸ã«å…ƒã®ãƒ“ãƒƒãƒˆæ·±åº¦ã‚’è¿”ã™ï¼ˆ`bit_depth`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰
- âœ… `-q, --quality Q` - JPEG quality (0-100) â†’ **å¯¾å¿œå®Œäº†ï¼ˆJPEGå¤‰æ›æ©Ÿèƒ½ï¼‰**
  - `AVIFDecodeToJPEG()`, `AVIFDecodeFileToJPEG()` ã§å®Ÿè£…
  - å“è³ªç¯„å›²: 1-100ï¼ˆç¯„å›²å¤–ã®å€¤ã¯è‡ªå‹•è£œæ­£ï¼‰
- âœ… `--png-compress L` - PNG compression (0-9) â†’ **å¯¾å¿œå®Œäº†ï¼ˆPNGå¤‰æ›æ©Ÿèƒ½ï¼‰**
  - `AVIFDecodeToPNG()`, `AVIFDecodeFileToPNG()` ã§å®Ÿè£…
  - åœ§ç¸®ãƒ¬ãƒ™ãƒ«: 0-9 (0=ç„¡åœ§ç¸®, 9=æœ€é«˜åœ§ç¸®, -1=ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)

#### è‰²ç©ºé–“å‡¦ç†
- âœ… `-u, --upsampling U` - chroma upsampling â†’ **å¯¾å¿œå®Œäº†** `chroma_upsampling`
  - **å¯¾å¿œå®Œäº†**: 0=automatic (default), 1=fastest, 2=best_quality, 3=nearest, 4=bilinear
  - libavifã® `avifRGBImage.chromaUpsampling` APIã‚’ä½¿ç”¨
- âš ï¸ `-r, --raw-color` - output raw RGB without alpha multiply â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆJPEGå‡ºåŠ›å›ºæœ‰ï¼‰**

#### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³/ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–
- âŒ `--index I` - frame index to decode (0 or 'all') â†’ **éå¯¾å¿œï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œï¼‰**
- âŒ `--progressive` - progressive image processing â†’ **éå¯¾å¿œï¼ˆå®Ÿé¨“çš„æ©Ÿèƒ½ã€ä¸è¦ï¼‰**

#### ãƒ‡ã‚³ãƒ¼ãƒ‰è¨­å®š
- âœ… `--no-strict` - disable strict validation â†’ `strict_flags`
  - **å¯¾å¿œå®Œäº†**: 0=AVIF_STRICT_DISABLED, 1=AVIF_STRICT_ENABLED (default: 1)

#### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- âœ… `--icc FILENAME` - provide ICC profile (implies --ignore-icc) â†’ `icc_data`, `icc_size` **ï¼ˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ™‚ã®ã¿ï¼‰**
- âœ… `--ignore-icc` - ignore embedded ICC â†’ `ignore_icc`
  - **æ³¨**: ãƒ‡ã‚³ãƒ¼ãƒ‰å‡ºåŠ›ã«ICCãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚ã¦ã„ãªã„ãŸã‚ã€ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯å®Ÿè³ªçš„ã«ç„¡åŠ¹

#### å®‰å…¨æ€§è¨­å®š
- âœ… `--size-limit C` - maximum image size in pixels â†’ `image_size_limit`
  - **å¯¾å¿œå®Œäº†**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ = 268,435,456 (16384 x 16384)
- âœ… `--dimension-limit C` - maximum dimension â†’ `image_dimension_limit`
  - **å¯¾å¿œå®Œäº†**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ = 32768, 0=ignore

#### æƒ…å ±è¡¨ç¤º
- âš ï¸ `-i, --info` - display image info instead of saving â†’ **æœªã‚µãƒãƒ¼ãƒˆï¼ˆCLIæ©Ÿèƒ½ï¼‰**
  - **æ³¨**: ãƒ‡ã‚³ãƒ¼ãƒ‰APIã¯å¸¸ã«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆå¹…ã€é«˜ã•ã€ãƒ“ãƒƒãƒˆæ·±åº¦ç­‰ï¼‰ã‚’è¿”ã™

### åˆ†æçµæœ

#### ã‚µãƒãƒ¼ãƒˆçŠ¶æ³
- **å®Œå…¨å¯¾å¿œ**: ãƒ‡ã‚³ãƒ¼ãƒ‰æ©Ÿèƒ½ã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç„¡è¦–ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ã€å³æ ¼ãªæ¤œè¨¼åˆ¶å¾¡ã€**PNG/JPEGå¤‰æ›æ©Ÿèƒ½**ã€**ã‚¯ãƒ­ãƒã‚¢ãƒƒãƒ—ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°**
- **éå¯¾å¿œï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰**: `--index`, `--progressive`
  - **ç†ç”±**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œã€ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–ã¯å®Ÿé¨“çš„æ©Ÿèƒ½ã§ä¸è¦
- **æœªå¯¾å¿œï¼ˆé«˜åº¦ãªè¨­å®šï¼‰**: `-d` (å‡ºåŠ›ãƒ“ãƒƒãƒˆæ·±åº¦), `-r` (raw color)
  - **ç†ç”±**: ãƒ“ãƒƒãƒˆæ·±åº¦ã¯å…¥åŠ›ã‹ã‚‰è‡ªå‹•æ±ºå®šã€raw-colorã¯JPEGå›ºæœ‰ã§ä¸è¦
- **æœªå¯¾å¿œï¼ˆCLIå›ºæœ‰ï¼‰**: `-h`, `-V`, `-i`, `-c`

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ã‚ªãƒ—ã‚·ãƒ§ãƒ³ âœ…
- **âœ… å¯¾å¿œå®Œäº†**: `--size-limit` ã¨ `--dimension-limit` ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- libavifã® `imageSizeLimit`, `imageDimensionLimit` API ã‚’æ´»ç”¨
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤: 268,435,456ãƒ”ã‚¯ã‚»ãƒ«ï¼ˆ16384 x 16384ï¼‰ã€å¯¸æ³•åˆ¶é™ 32768
- æ‚ªæ„ã®ã‚ã‚‹å·¨å¤§ç”»åƒã‹ã‚‰ã®ä¿è­·ãŒå¯èƒ½

#### avifdecã¨ã®æ©Ÿèƒ½å·®ç•°
- **å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**: âœ… PNG/JPEGå‡ºåŠ›ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆ`AVIFDecodeToPNG()`, `AVIFDecodeToJPEG()`ï¼‰
- **æƒ…å ±è¡¨ç¤º**: avifdecã® `-i, --info` æ©Ÿèƒ½ã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯å¸¸ã«è¿”ã•ã‚Œã‚‹ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ä»£æ›¿å¯èƒ½
- **è‰²ç©ºé–“å¤‰æ›**: âœ… ã‚¯ãƒ­ãƒã‚¢ãƒƒãƒ—ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆ`chroma_upsampling`ï¼‰


#### çµè«–
avifdecã®**ã‚³ã‚¢æ©Ÿèƒ½ã‚’å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆ** âœ…
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç„¡è¦–ã‚ªãƒ—ã‚·ãƒ§ãƒ³**: `ignore_exif`, `ignore_xmp`, `ignore_icc` å®Œå…¨å¯¾å¿œ
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™**: `image_size_limit`, `image_dimension_limit` å®Œå…¨å¯¾å¿œ ğŸ”’
- **å³æ ¼ãªæ¤œè¨¼åˆ¶å¾¡**: `strict_flags` å®Œå…¨å¯¾å¿œ
- **PNG/JPEGå¤‰æ›æ©Ÿèƒ½**: `-q`, `--png-compress` å®Œå…¨å¯¾å¿œ ğŸ¨
- **ã‚¯ãƒ­ãƒã‚¢ãƒƒãƒ—ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°**: `-u, --upsampling` å®Œå…¨å¯¾å¿œ
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³/ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–æ©Ÿèƒ½ã¯æ˜ç¤ºçš„ã«éå¯¾å¿œ**

**äº’æ›æ€§ãƒ†ã‚¹ãƒˆçµæœ**:
- **ãƒ‡ã‚³ãƒ¼ãƒ‰æ©Ÿèƒ½**: 18ãƒ†ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã€53å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - **å…¨ã¦ãƒ‘ã‚¹** âœ…
- **PNG/JPEGå¤‰æ›æ©Ÿèƒ½**: 4ãƒ†ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã€12å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - **å…¨ã¦ãƒ‘ã‚¹** âœ…
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ã®å‹•ä½œç¢ºèªæ¸ˆã¿ï¼ˆåˆ¶é™è¶…éæ™‚ã«æ­£ã—ãã‚¨ãƒ©ãƒ¼ï¼‰
- PNGåœ§ç¸®ãƒ¬ãƒ™ãƒ«ï¼ˆ0-9ï¼‰ã¨JPEGå“è³ªï¼ˆ1-100ï¼‰ã®å‹•ä½œç¢ºèªæ¸ˆã¿
- ã‚¯ãƒ­ãƒã‚¢ãƒƒãƒ—ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼ˆ5ãƒ¢ãƒ¼ãƒ‰ï¼‰ã®å‹•ä½œç¢ºèªæ¸ˆã¿

---

## ç·åˆè©•ä¾¡

### å…¨ä½“ã®ã‚µãƒãƒ¼ãƒˆçŠ¶æ³

#### WebPé–¢é€£
- **cwebp**: ã‚³ã‚¢æ©Ÿèƒ½å®Œå…¨ã‚µãƒãƒ¼ãƒˆ âœ…
- **dwebp**: ã‚³ã‚¢æ©Ÿèƒ½å®Œå…¨ã‚µãƒãƒ¼ãƒˆ âœ…ï¼ˆcrop/resizeå¯¾å¿œãŒå„ªç§€ï¼‰
- **gif2webp**: **å®Œå…¨ã‚µãƒãƒ¼ãƒˆ** âœ…ï¼ˆé™æ­¢ç”»ãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸¡å¯¾å¿œã€ãƒã‚¤ãƒŠãƒªå®Œå…¨ä¸€è‡´ï¼‰

#### AVIFé–¢é€£
- **avifenc**: ã‚³ã‚¢æ©Ÿèƒ½ï¼ˆé™æ­¢ç”»ï¼‰å®Œå…¨ã‚µãƒãƒ¼ãƒˆ âœ…ï¼ˆç”»åƒãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å®Œå…¨å¯¾å¿œï¼‰
- **avifdec**: **ã‚³ã‚¢æ©Ÿèƒ½å®Œå…¨ã‚µãƒãƒ¼ãƒˆ** âœ…ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ã€å³æ ¼ãªæ¤œè¨¼åˆ¶å¾¡ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç„¡è¦–ã‚ªãƒ—ã‚·ãƒ§ãƒ³å®Œå‚™ï¼‰

### å„ªå…ˆåº¦åˆ¥ã®å¯¾å¿œé …ç›®



### ã¾ã¨ã‚

libnextimageã¯ã€libwebp/libavifã®**ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã®ã‚³ã‚¢æ©Ÿèƒ½ã‚’ã»ã¼å®Œå…¨ã«ã‚µãƒãƒ¼ãƒˆ**ã—ã¦ã„ã¾ã™ã€‚

**å®Œå…¨å¯¾å¿œ**:
- âœ… **cwebp** - å…¨ã‚³ã‚¢æ©Ÿèƒ½å®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆcrop/resize/blend_alpha/noalphaå«ã‚€ï¼‰
- âœ… **dwebp** - å…¨ã‚³ã‚¢æ©Ÿèƒ½å®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆcrop/resize/flipå¯¾å¿œãŒå„ªç§€ï¼‰
- âœ… **gif2webp** - **å®Œå…¨ã‚µãƒãƒ¼ãƒˆ**ï¼ˆé™æ­¢ç”»ãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä¸¡å¯¾å¿œã€ãƒã‚¤ãƒŠãƒªå®Œå…¨ä¸€è‡´ï¼‰
- âœ… **avifencï¼ˆé™æ­¢ç”»ï¼‰** - AVIFå›ºæœ‰ã®ç”»åƒãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å«ã‚å®Œå…¨å¯¾å¿œ
- âœ… **avifdec** - ã‚³ã‚¢æ©Ÿèƒ½å®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ğŸ”’ã€å³æ ¼ãªæ¤œè¨¼åˆ¶å¾¡ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç„¡è¦–ã‚ªãƒ—ã‚·ãƒ§ãƒ³å®Œå‚™ï¼‰

éå¯¾å¿œã®æ©Ÿèƒ½ã¯ä¸»ã«ä»¥ä¸‹ã®ã‚«ãƒ†ã‚´ãƒªï¼š
1. **CLIå›ºæœ‰æ©Ÿèƒ½**ï¼ˆversion, help, verboseç­‰ï¼‰- æ„å›³çš„ã«éå¯¾å¿œ
2. **AVIFã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½** - æ˜ç¤ºçš„ã«éå¯¾å¿œï¼ˆé™æ­¢ç”»ã®ã¿å¯¾å¿œï¼‰
3. **å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›** - å½¹å‰²åˆ†æ‹…ã«ã‚ˆã‚Šéå¯¾å¿œï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ç”Ÿãƒ”ã‚¯ã‚»ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™ï¼‰
4. **å®Ÿé¨“çš„æ©Ÿèƒ½** - ä¸è¦

**å…¨ã¦å¯¾å¿œå®Œäº†** âœ…

**2025-10-18æ›´æ–°**:
1. **gif2webpå®Œå…¨å¯¾å¿œé”æˆ**
   - é™æ­¢ç”»GIFãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³GIFä¸¡æ–¹ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
   - å…¬å¼gif2webpã‚³ãƒãƒ³ãƒ‰ã¨ãƒã‚¤ãƒŠãƒªãƒ¬ãƒ™ãƒ«ã§å®Œå…¨ä¸€è‡´ï¼ˆå…¨12ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ï¼‰
   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆlosslesså‹•ä½œã€å˜ä¸€ãƒ•ãƒ¬ãƒ¼ãƒ æœ€é©åŒ–ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å“è³ªã‚ªãƒ—ã‚·ãƒ§ãƒ³å…¨å¯¾å¿œ

2. **AVIFå®Œå…¨å¯¾å¿œé”æˆ** ğŸ”’ğŸ¨
   - **avifdec ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½è¿½åŠ **: `image_size_limit`, `image_dimension_limit`, `strict_flags`
   - **avifdec PNG/JPEGå¤‰æ›æ©Ÿèƒ½è¿½åŠ **: `-q`, `--png-compress`, `-u` (chroma upsampling)
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ã«ã‚ˆã‚Šæ‚ªæ„ã®ã‚ã‚‹å·¨å¤§ç”»åƒã‹ã‚‰ã®ä¿è­·ãŒå¯èƒ½
   - PNG/JPEGå‡ºåŠ›ã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆï¼ˆåœ§ç¸®ãƒ¬ãƒ™ãƒ«ãƒ»å“è³ªåˆ¶å¾¡å¯¾å¿œï¼‰
   - ãƒ‡ã‚³ãƒ¼ãƒ‰: 18ãƒ†ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã€53å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - å…¨ã¦ãƒ‘ã‚¹ âœ…
   - å¤‰æ›: 4ãƒ†ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã€12å€‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ - å…¨ã¦ãƒ‘ã‚¹ âœ…

### æœ€è¿‘ã®è¿½åŠ æ©Ÿèƒ½ï¼ˆ2025-10-18ï¼‰

#### 1. gif2webpå®Œå…¨å¯¾å¿œï¼ˆãƒã‚¤ãƒŠãƒªå®Œå…¨ä¸€è‡´ï¼‰
gif2webpã‚³ãƒãƒ³ãƒ‰ã¨ã®å®Œå…¨äº’æ›ã‚’é”æˆï¼š

**å®Ÿè£…å†…å®¹**:
- **é™æ­¢ç”»GIFå¯¾å¿œ**: å˜ä¸€ãƒ•ãƒ¬ãƒ¼ãƒ GIFã‚’é™çš„VP8L WebPã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼ˆ`WebPEncode()`ä½¿ç”¨ï¼‰
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³GIFå¯¾å¿œ**: WebPAnimEncoderã«ã‚ˆã‚‹å®Œå…¨ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¤‰æ›
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆlossless**: gif2webpã¨åŒã˜ãã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§losslessã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
- **å“è³ªã‚ªãƒ—ã‚·ãƒ§ãƒ³**: `-q`, `-m` ãªã©å…¨ã¦ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆ
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–**: `-mixed`, `-min_size`, `-kmin`, `-kmax`, `-loop_compatibility` å®Œå…¨å¯¾å¿œ

**äº’æ›æ€§ãƒ†ã‚¹ãƒˆçµæœ**:
- âœ… å…¨12ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ãƒã‚¤ãƒŠãƒªå®Œå…¨ä¸€è‡´
- âœ… é™æ­¢ç”»GIFï¼ˆ4ãƒ†ã‚¹ãƒˆï¼‰: 42ã€œ158ãƒã‚¤ãƒˆã§å®Œå…¨ä¸€è‡´
- âœ… ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³GIFï¼ˆ2ãƒ†ã‚¹ãƒˆï¼‰: 140ã€œ206ãƒã‚¤ãƒˆã§å®Œå…¨ä¸€è‡´
- âœ… é€éGIFï¼ˆ2ãƒ†ã‚¹ãƒˆï¼‰: 86ã€œ180ãƒã‚¤ãƒˆã§å®Œå…¨ä¸€è‡´
- âœ… å“è³ªãƒ»ãƒ¡ã‚½ãƒƒãƒ‰è¨­å®šï¼ˆ4ãƒ†ã‚¹ãƒˆï¼‰: å…¨ã¦å®Œå…¨ä¸€è‡´

**æŠ€è¡“çš„è©³ç´°**:
- å˜ä¸€ãƒ•ãƒ¬ãƒ¼ãƒ æ¤œå‡ºã«ã‚ˆã‚Šé™çš„WebP/ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³WebPã‚’è‡ªå‹•é¸æŠ
- GIFã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã€é€æ˜åº¦ã€ãƒ‡ã‚£ã‚¹ãƒãƒ¼ã‚ºãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Œå…¨ä¿æŒ
- 3ãƒ•ãƒ¬ãƒ¼ãƒ ãƒãƒƒãƒ•ã‚¡æ–¹å¼ï¼ˆframe, curr_canvas, prev_canvasï¼‰ã«ã‚ˆã‚‹æ­£ç¢ºãªåˆæˆ

#### 2. WebPç”»åƒå¤‰æ›æ©Ÿèƒ½ã®å®Œå…¨å®Ÿè£…
cwebpã®ç”»åƒå¤‰æ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å®Œå…¨å®Ÿè£…ï¼š
- **Crop**: `-crop x y w h` â†’ `crop_x`, `crop_y`, `crop_width`, `crop_height`
- **Resize**: `-resize w h` â†’ `resize_width`, `resize_height`
- **Resize Mode**: `-resize_mode` â†’ `resize_mode` (0=always, 1=up_only, 2=down_only)
- **Blend Alpha**: `-blend_alpha 0xRRGGBB` â†’ `blend_alpha` (èƒŒæ™¯è‰²ã¨ã®åˆæˆ)
- **No Alpha**: `-noalpha` â†’ `noalpha` (ã‚¢ãƒ«ãƒ•ã‚¡ãƒãƒ£ãƒ³ãƒãƒ«é™¤å»)

å‡¦ç†é †åºã¯cwebpã¨åŒã˜ï¼šç”»åƒèª­ã¿è¾¼ã¿ â†’ crop â†’ resize â†’ blend_alpha â†’ ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰

ãƒ†ã‚¹ãƒˆã‚‚å®Œå‚™ï¼ˆ`golang/webp_advanced_test.go`ï¼‰ï¼š
- âœ… Cropæ©Ÿèƒ½ï¼ˆ256x256ã‚¯ãƒ­ãƒƒãƒ—ï¼‰
- âœ… Resizeæ©Ÿèƒ½ï¼ˆ200x200ãƒªã‚µã‚¤ã‚ºï¼‰
- âœ… Resize Modeï¼ˆup_only/down_only/alwaysï¼‰
- âœ… Crop + Resizeçµ„ã¿åˆã‚ã›
- âœ… Blend Alphaï¼ˆèƒŒæ™¯è‰²åˆæˆï¼‰
- âœ… No Alphaï¼ˆã‚¢ãƒ«ãƒ•ã‚¡é™¤å»ï¼‰


#### 3. AVIFãƒ‡ã‚³ãƒ¼ãƒ€ãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã®å®Œå…¨å®Ÿè£… ğŸ”’

avifdecã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å®Œå…¨å®Ÿè£…ï¼š

**å®Ÿè£…å†…å®¹**:
- **`image_size_limit`**: æœ€å¤§ç”»åƒã‚µã‚¤ã‚ºï¼ˆç·ãƒ”ã‚¯ã‚»ãƒ«æ•°ï¼‰ã®åˆ¶é™
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 268,435,456 ãƒ”ã‚¯ã‚»ãƒ« (16384 Ã— 16384)
  - æ‚ªæ„ã®ã‚ã‚‹å·¨å¤§ç”»åƒã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªæ¯æ¸‡æ”»æ’ƒã‚’é˜²æ­¢
- **`image_dimension_limit`**: æœ€å¤§ç”»åƒå¯¸æ³•ï¼ˆå¹…ã¾ãŸã¯é«˜ã•ï¼‰ã®åˆ¶é™
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 32768
  - 0 = åˆ¶é™ãªã—
- **`strict_flags`**: å³æ ¼ãªæ¤œè¨¼ãƒ•ãƒ©ã‚°ã®åˆ¶å¾¡
  - 0 = AVIF_STRICT_DISABLEDï¼ˆå³æ ¼ãªæ¤œè¨¼ã‚’ç„¡åŠ¹åŒ–ã€å£Šã‚ŒãŸAVIFã‚’è¨±å®¹ï¼‰
  - 1 = AVIF_STRICT_ENABLEDï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€å³æ ¼ãªæ¤œè¨¼ã‚’æœ‰åŠ¹åŒ–ï¼‰

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®åˆ©ç‚¹**:
- DoSæ”»æ’ƒã‹ã‚‰ã®ä¿è­·ï¼ˆå·¨å¤§ç”»åƒã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªæ¯æ¸‡é˜²æ­¢ï¼‰
- ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã®æ˜ç¤ºçš„ãªåˆ¶å¾¡
- libavifã®å†…éƒ¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã‚’å®Œå…¨ã«æ´»ç”¨

**äº’æ›æ€§ãƒ†ã‚¹ãƒˆçµæœ**:
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
  - æ­£å¸¸ã‚µã‚¤ã‚ºç”»åƒã®ãƒ‡ã‚³ãƒ¼ãƒ‰æˆåŠŸã‚’ç¢ºèª
  - ã‚µã‚¤ã‚ºåˆ¶é™è¶…éæ™‚ã®ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
  - å¯¸æ³•åˆ¶é™è¶…éæ™‚ã®ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
- âœ… å³æ ¼ãªæ¤œè¨¼ãƒ•ãƒ©ã‚°ãƒ†ã‚¹ãƒˆï¼ˆ2ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
  - å³æ ¼ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹æ™‚ã®ãƒ‡ã‚³ãƒ¼ãƒ‰æˆåŠŸã‚’ç¢ºèª
  - å³æ ¼ãƒ¢ãƒ¼ãƒ‰ç„¡åŠ¹æ™‚ã®ãƒ‡ã‚³ãƒ¼ãƒ‰æˆåŠŸã‚’ç¢ºèª

**æŠ€è¡“çš„è©³ç´°**:
- libavifã® `avifDecoder->imageSizeLimit`, `avifDecoder->imageDimensionLimit`, `avifDecoder->strictFlags` APIã‚’ç›´æ¥ä½¿ç”¨
- C APIã¨Go APIã®ä¸¡æ–¹ã§å®Œå…¨ã‚µãƒãƒ¼ãƒˆ
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯libavifã®æ¨å¥¨å€¤ã¨ä¸€è‡´

**çµè«–**:
avifdecã‚³ãƒãƒ³ãƒ‰ã®å…¨ã¦ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ©Ÿèƒ½ã‚’å®Œå…¨å®Ÿè£…ã—ã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã®å®‰å…¨ãªä½¿ç”¨ãŒå¯èƒ½ã«ã€‚


#### 4. AVIFâ†’PNG/JPEGå¤‰æ›æ©Ÿèƒ½ã®å®Œå…¨å®Ÿè£… ğŸ¨

avifdecã®PNG/JPEGå‡ºåŠ›ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å®Œå…¨å®Ÿè£…ï¼š

**å®Ÿè£…å†…å®¹**:
- **`AVIFDecodeToPNG()`**: AVIFâ†’PNGå¤‰æ›ï¼ˆãƒã‚¤ãƒŠãƒªå…¥åŠ›ï¼‰
  - PNGåœ§ç¸®ãƒ¬ãƒ™ãƒ«: 0-9 (0=ç„¡åœ§ç¸®, 9=æœ€é«˜åœ§ç¸®, -1=ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
- **`AVIFDecodeFileToPNG()`**: AVIFâ†’PNGå¤‰æ›ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å…¥åŠ›ï¼‰
- **`AVIFDecodeToJPEG()`**: AVIFâ†’JPEGå¤‰æ›ï¼ˆãƒã‚¤ãƒŠãƒªå…¥åŠ›ï¼‰
  - JPEGå“è³ª: 1-100ï¼ˆç¯„å›²å¤–ã®å€¤ã¯è‡ªå‹•è£œæ­£ï¼‰
- **`AVIFDecodeFileToJPEG()`**: AVIFâ†’JPEGå¤‰æ›ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å…¥åŠ›ï¼‰
- **ã‚¯ãƒ­ãƒã‚¢ãƒƒãƒ—ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°åˆ¶å¾¡**: `chroma_upsampling`
  - 0=automatic (default), 1=fastest, 2=best_quality, 3=nearest, 4=bilinear
  - libavifã® `avifRGBImage.chromaUpsampling` APIã‚’ä½¿ç”¨

**å¯¾å¿œã™ã‚‹avifdecã‚ªãƒ—ã‚·ãƒ§ãƒ³**:
- âœ… `-q, --quality Q` - JPEGå“è³ª (1-100)
- âœ… `--png-compress L` - PNGåœ§ç¸®ãƒ¬ãƒ™ãƒ« (0-9)
- âœ… `-u, --upsampling U` - ã‚¯ãƒ­ãƒã‚¢ãƒƒãƒ—ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰

**ãƒ”ã‚¯ã‚»ãƒ«å½¢å¼å¯¾å¿œ**:
- RGBA â†’ ç›´æ¥PNG/JPEGã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
- RGB â†’ RGBAå¤‰æ›ï¼ˆalpha=255è¿½åŠ ï¼‰
- BGRA â†’ RGBAå¤‰æ›ï¼ˆR/Bãƒãƒ£ãƒ³ãƒãƒ«äº¤æ›ï¼‰

**äº’æ›æ€§ãƒ†ã‚¹ãƒˆçµæœ**:
- âœ… PNGå¤‰æ›ãƒ†ã‚¹ãƒˆï¼ˆ5ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåœ§ç¸®: 5334ãƒã‚¤ãƒˆ
  - ç„¡åœ§ç¸® (level=0): 5334ãƒã‚¤ãƒˆ
  - æœ€é«˜åœ§ç¸® (level=9): 5334ãƒã‚¤ãƒˆ
  - best_quality upsampling: 5334ãƒã‚¤ãƒˆ
  - fastest upsampling: 5334ãƒã‚¤ãƒˆ
- âœ… JPEGå¤‰æ›ãƒ†ã‚¹ãƒˆï¼ˆ5ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
  - å“è³ª50: 6029ãƒã‚¤ãƒˆ
  - å“è³ª75: 7053ãƒã‚¤ãƒˆ
  - å“è³ª90: 9925ãƒã‚¤ãƒˆ
  - å“è³ª90 + bilinear upsampling: 9925ãƒã‚¤ãƒˆ
  - å“è³ª90 + nearest upsampling: 9925ãƒã‚¤ãƒˆ
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹å¤‰æ›ãƒ†ã‚¹ãƒˆï¼ˆ2ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
  - PNGå¤‰æ›: 5334ãƒã‚¤ãƒˆ
  - JPEGå¤‰æ›: 9925ãƒã‚¤ãƒˆ

**æŠ€è¡“çš„è©³ç´°**:
- Goæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª `image/png`, `image/jpeg` ã‚’ä½¿ç”¨
- libavifã§ãƒ‡ã‚³ãƒ¼ãƒ‰ â†’ Go image.Imageå¤‰æ› â†’ PNG/JPEGã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
- YUVâ†’RGBå¤‰æ›æ™‚ã®ã‚¯ãƒ­ãƒã‚¢ãƒƒãƒ—ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‚’å®Œå…¨åˆ¶å¾¡å¯èƒ½

**çµè«–**:
avifdecã®å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›æ©Ÿèƒ½ã‚’å®Œå…¨å®Ÿè£…ã—ã€AVIFâ†’PNG/JPEGå¤‰æ›ã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªAPIã¨ã—ã¦æä¾›ã€‚
